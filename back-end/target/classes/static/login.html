<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <style>
        .login-container {
            width: 400px;
            margin: 0 auto;
            padding-top: 20px;
        }
        .title {
            display: block;
            margin: 0 auto;
            font-size: 40px;
            text-align: center;
        }
    </style>
</head>
<body>
<span class = "title" >商品管理用户登录界面</span>
<div id = "app" class = "login-container" >
    <el-form label-width = "80px">
        <el-form-item label = "用户名">
            <el-input v-model = "loginForm.username" placeholder = "请输入用户名"></el-input>
        </el-form-item>
        <el-form-item label="密码">
            <el-input type = "password" v-model = "loginForm.password" placeholder = "请输入密码"></el-input>
        </el-form-item>
        <el-form-item>
            <el-button type = "primary" @click = "login">登录</el-button>
        </el-form-item>
    </el-form>
</div>
</body>

<script src="Vue/vue.js"></script>
<script src="axios/axios.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script>
    new Vue({
        el: '#app',
        data: {
            loginForm: {
                username: '',
                password: ''
            }
        },
        methods: {
            login() {
                axios.post("http://localhost:8080/login", this.loginForm)
                    .then(res => {
                        if (res.data.success) {
                            window.location.href = '/index.html';
                        } else {
                            this.$message.error("账号或密码错误")
                        }
                    })
            }
        }
    })
</script>
</html>
